{"ast":null,"code":"import _InputItem from \"antd-mobile/lib/input-item\";\nimport _DatePicker from \"antd-mobile/lib/date-picker\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _Radio from \"antd-mobile/lib/radio\";\n\nvar _class;\n\nimport React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport Link from 'next/link';\nimport { createForm } from 'rc-form';\nimport PageWrapper from \"../../components/PageWrapper\";\nimport agent from \"../../utils/agent\";\nimport styles from \"./index.less\";\nimport pageStore from \"./store\";\nimport storage from \"../../utils/storage\";\nimport Router from 'next/router';\nvar RadioItem = _Radio.RadioItem;\n\nvar Page = observer(_class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Page, _React$Component);\n\n  function Page(props) {\n    var _this;\n\n    _classCallCheck(this, Page);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Page).call(this, props));\n\n    _this.onChange = function (value) {\n      console.log(value);\n\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.handleSubmit = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this$state, birthday, name, phone, gender, params, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _this$state = _this.state, birthday = _this$state.birthday, name = _this$state.name, phone = _this$state.phone, gender = _this$state.gender;\n              params = {\n                birthday: birthday.getTime(),\n                name: name,\n                gender: gender,\n                phone: phone\n              };\n              _context.next = 5;\n              return agent.Baby.add(params);\n\n            case 5:\n              data = _context.sent;\n              Router.push('/question');\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 11:\n              _context.prev = 11;\n              return _context.finish(11);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9, 11, 13]]);\n    }));\n    var query = _this.props.query;\n\n    if (query.voteId) {\n      _this.voteId = query.voteId;\n    }\n\n    _this.state = {\n      birthday: new Date(),\n      name: '',\n      phone: '',\n      gender: 1\n    };\n    return _this;\n  }\n\n  _createClass(Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var CustomChildren = function CustomChildren(_ref2) {\n        var extra = _ref2.extra,\n            onClick = _ref2.onClick,\n            children = _ref2.children;\n        return React.createElement(\"div\", {\n          onClick: onClick,\n          style: {\n            backgroundColor: '#fff',\n            height: '45px',\n            lineHeight: '45px',\n            padding: '0 15px'\n          }\n        }, extra);\n      };\n\n      return React.createElement(\"div\", {\n        className: styles.page\n      }, React.createElement(\"div\", null, React.createElement(\"img\", {\n        className: styles.head,\n        src: \"/static/img/baby/head.png\"\n      })), React.createElement(\"div\", {\n        className: styles.card\n      }, React.createElement(\"div\", {\n        className: styles.card__body\n      }, React.createElement(\"div\", {\n        className: styles.item\n      }, React.createElement(\"div\", {\n        className: styles.label\n      }, \"\\u5B9D\\u5B9D\\u751F\\u65E5\"), React.createElement(_DatePicker, {\n        mode: \"date\",\n        format: \"YYYY-MM-DD\",\n        title: \"Select Time\",\n        value: this.state.birthday,\n        onChange: function onChange(v) {\n          return _this2.setState({\n            birthday: v\n          });\n        },\n        extra: \"click to choose\"\n      }, React.createElement(CustomChildren, null))), React.createElement(\"div\", {\n        className: styles.item\n      }, React.createElement(\"div\", {\n        className: styles.label\n      }, \"\\u5B9D\\u5B9D\\u6027\\u522B\"), React.createElement(\"div\", null, React.createElement(\"img\", {\n        className: styles.item__gender,\n        src: \"/static/img/icon/boy.png\"\n      }), React.createElement(\"img\", {\n        className: styles.item__gender,\n        src: \"/static/img/icon/girl.png\"\n      }))), React.createElement(\"div\", {\n        className: styles.item\n      }, React.createElement(\"div\", {\n        className: styles.label\n      }, \"\\u5B9D\\u5B9D\\u6635\\u79F0\"), React.createElement(_InputItem, {\n        className: styles.item__name,\n        placeholder: \"\",\n        value: this.state.name,\n        onChange: function onChange(v) {\n          return _this2.setState({\n            name: v\n          });\n        }\n      })), React.createElement(\"div\", {\n        className: styles.item\n      }, React.createElement(\"div\", {\n        className: styles.label\n      }, \"\\u624B\\u673A\\u53F7\"), React.createElement(_InputItem, {\n        className: styles.item__name,\n        placeholder: \"\",\n        value: this.state.phone,\n        onChange: function onChange(v) {\n          return _this2.setState({\n            phone: v\n          });\n        }\n      })), React.createElement(\"div\", {\n        className: styles.submit,\n        onClick: this.handleSubmit\n      }, \"\\u6D4B\\u8BD5\"))));\n    }\n  }]);\n\n  return Page;\n}(React.Component)) || _class;\n\nexport default PageWrapper(createForm()(Page));","map":{"version":3,"sources":["/Users/lotuslwb/Documents/MJobs/orangeLove/pages/baby/index.js"],"names":["React","inject","observer","Link","createForm","PageWrapper","agent","styles","pageStore","storage","Router","RadioItem","Page","props","onChange","value","console","log","setState","handleSubmit","state","birthday","name","phone","gender","params","getTime","Baby","add","data","push","query","voteId","Date","CustomChildren","extra","onClick","children","backgroundColor","height","lineHeight","padding","page","head","card","card__body","item","label","v","item__gender","item__name","submit","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {inject, observer} from 'mobx-react';\nimport Link from 'next/link';\nimport {\n    NavBar, List, InputItem, WhiteSpace, WingBlank, Button, Toast, Flex, Radio, Result, Icon,\n    TextareaItem, Calendar, Card, DatePickerView, DatePicker, Modal\n} from 'antd-mobile';\nimport {createForm} from 'rc-form';\nimport PageWrapper from '@components/PageWrapper';\nimport agent from \"@utils/agent\";\nimport styles from './index.less';\nimport pageStore from './store';\nimport storage from '@utils/storage';\nimport Router from 'next/router'\n\nconst RadioItem = Radio.RadioItem;\n\n@observer\nclass Page extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        const {query} = this.props;\n        if (query.voteId) {\n            this.voteId = query.voteId;\n        }\n\n        this.state = {\n            birthday: new Date(),\n\t\t\tname: '',\n\t\t\tphone:'',\n            gender: 1,\n        };\n    }\n\n    componentDidMount() {\n    }\n\n    onChange = (value) => {\n        console.log(value);\n        this.setState({value});\n    };\n\n    handleSubmit = async () => {\n        try {\n            const {birthday, name,phone, gender} = this.state;\n            const params = {\n                birthday: birthday.getTime(),\n                name, gender,phone\n            };\n            const data = await agent.Baby.add(params);\n            Router.push('/question');\n        } catch (e) {\n\n        } finally {\n\n        }\n    };\n\n    render() {\n        const CustomChildren = ({extra, onClick, children}) => (\n            <div\n                onClick={onClick}\n                style={{backgroundColor: '#fff', height: '45px', lineHeight: '45px', padding: '0 15px'}}\n            >{extra}</div>\n        );\n        return (\n            <div className={styles.page}>\n                <div>\n                    <img className={styles.head} src='/static/img/baby/head.png'/>\n                </div>\n                <div className={styles.card}>\n                    <div className={styles.card__body}>\n                        <div className={styles.item}>\n                            <div className={styles.label}>宝宝生日</div>\n                            <DatePicker\n                                mode=\"date\"\n                                format=\"YYYY-MM-DD\"\n                                title=\"Select Time\"\n                                value={this.state.birthday}\n                                onChange={v => this.setState({birthday: v})}\n                                extra=\"click to choose\"\n                            >\n                                <CustomChildren/>\n                            </DatePicker>\n                        </div>\n                        <div className={styles.item}>\n                            <div className={styles.label}>宝宝性别</div>\n                            <div>\n                                <img className={styles.item__gender} src=\"/static/img/icon/boy.png\"/>\n                                <img className={styles.item__gender} src=\"/static/img/icon/girl.png\"/>\n                            </div>\n                        </div>\n                        <div className={styles.item}>\n                            <div className={styles.label}>宝宝昵称</div>\n                            <InputItem\n                                className={styles.item__name}\n                                placeholder=\"\"\n                                value={this.state.name}\n                                onChange={v => this.setState({name: v})}\n                            >\n                            </InputItem>\n                        </div>\n\t\t\t\t\t\t<div className={styles.item}>\n                            <div className={styles.label}>手机号</div>\n                            <InputItem\n                                className={styles.item__name}\n                                placeholder=\"\"\n                                value={this.state.phone}\n                                onChange={v => this.setState({phone: v})}\n                            >\n                            </InputItem>\n                        </div>\n                        <div className={styles.submit} onClick={this.handleSubmit}>测试</div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default PageWrapper(createForm()(Page));\n"]},"metadata":{},"sourceType":"module"}